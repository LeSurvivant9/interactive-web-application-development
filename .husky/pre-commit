#!/bin/sh

if command -v bun >/dev/null 2>&1; then
  bun run lint-staged
  exit 0
fi

POTENTIAL_PATHS="
/home/linuxbrew/.linuxbrew/bin/bun
/opt/homebrew/bin/bun
/usr/local/bin/bun
$HOME/.bun/bin/bun
"

for BUN_PATH in $POTENTIAL_PATHS; do
  if [ -x "$BUN_PATH" ]; then
    "$BUN_PATH" run lint-staged --concurrent false
    exit 0
  fi
done

echo "‚ùå Erreur Husky : Impossible de trouver 'bun' sur ce syst√®me."
echo "üí° V√©rifie ton PATH ou ajoute le chemin dans .husky/pre-commit"
exit 1